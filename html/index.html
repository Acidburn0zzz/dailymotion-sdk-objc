<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Dailymotion SDK Reference</title>
		<link rel="stylesheet" type="text/css" href="css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 737)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="index.html">Dailymotion SDK </a></h1>
				<a id="developerHome" href="index.html">Dailymotion S.A</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">Dailymotion SDK Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar"></ul>
		</header>
		<article>
			<div id="overview_contents" role="main">
				<div class="main-navigation navigation-top">
					<a href="hierarchy.html">Next</a>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">Dailymotion SDK Reference</h1>
					</div>		
				</div>
				<div id="container">
					
					<div class="section section-overview index-overview">
						
						
						<p>The Dailymotion SDK allows you to access the Dailymotion API and control the Dailymotion HTML 5 player from Mac OS X or iOS.</p>

<p><em>WARNING</em>: This SDK requires a 5.0 minimum deployement version for iOS.</p>

<h1>Useful Resources</h1>

<ul>
<li>Dailymotion SDK: <a href="https://github.com/dailymotion/dailymotion-sdk-objc">https://github.com/dailymotion/dailymotion-sdk-objc</a></li>
<li>Dailymotion API Reference: http://www.dailymotion.com/doc/api/reference.html</li>
<li>Dailymotion API Explorer: http://www.dailymotion.com/doc/api/explorer</li>
</ul>


<h2>Player API</h2>

<p>The Dailymotion SDK let you control the Dailymotion HTML 5 player from you app.</p>

<p>Here is an example of player instanciation:</p>

<pre><code>self.playerController = playerViewController = [DMAPI.sharedAPI player:@"xkdk2" params:nil];
self.playerController.delegate = self;
[self.view addSubview:self.playerController.view];
[self.playerViewController play];
...
</code></pre>

<p>For working example, see <a href="https://github.com/dailymotion/dailymotion-sdk-objc/tree/master/Examples/VideoListSample">VideoList Sample</a> app.</p>

<h2>UIKit integration</h2>

<p>The easiest way to use the Dailymotion SDK is to use UIKit integration classes. They are high level integration of the Dailymotion API into UIKit components like <code>UITableViewController</code>, <code>UICollectionViewController</code> or <code>UIPageViewController</code>. They handle for you all the boilerplate code for data loading, infinite scrolling pagination, data caching and cache invalidation.</p>

<ul>
<li>See <a href="Classes/DMItemTableViewController.html">DMItemTableViewController</a> for <code>UITableViewController</code> implementation</li>
<li>See <a href="Classes/DMItemCollectionViewController.html">DMItemCollectionViewController</a> for <code>UICollectionViewController</code> implementation</li>
<li>See <a href="Protocols/DMItemPageViewDataSourceDelegate.html">DMItemPageViewDataSourceDelegate</a> for <code>UIPageViewController</code> implementation</li>
<li>See <a href="Classes/DMItemPickerLabel.html">DMItemPickerLabel</a> for <code>UIPickerLabel</code> implementation</li>
</ul>


<p>For working example, see <a href="https://github.com/dailymotion/dailymotion-sdk-objc/tree/master/Examples/VideoListSample">VideoList Sample</a> app.</p>

<h2>Model Classes</h2>

<p>The <a href="Classes/DMItem.html">DMItem</a> and <a href="Classes/DMItemCollection.html">DMItemCollection</a> high level classes that wrap the <a href="Classes/DMAPI.html">DMAPI</a> class. They perform the correct CRUDL API requests for given remote Dailymotion object and handle the caching and cache invalidation of the returned data.</p>

<p>You should always prefer using those classe over performing raw API calls using <a href="Classes/DMAPI.html">DMAPI</a>.</p>

<h3>Examples</h3>

<p>Gather metadata of a video:</p>

<pre><code>DMItem *video = [DMItem itemWithType:@"video" forId:@"x1k3d"];

[video withFields:@[@"title", @"description", @"owner.screenname"] do:^(NSDictionary *data , BOOL stalled , NSError *error)
{
    NSLog(@"Video %@ as title \"%@\" and is owned by \"%@\"", data[@"title"], data[@"owner.screenname"]);
}];
</code></pre>

<p>Edit video metadata:</p>

<pre><code>DMItem *video = [DMItem itemWithType:@"video" forId:@"x1k3d"];

[video editWithData:@{@"title": @"new title"} done:^(NSError *error)
{
    // handle error
}];
</code></pre>

<p>Performing search:</p>

<pre><code>NSDictionary *args = @{@"search": @"a search query", @"sort": @"relevance"};
DMItemRemoteCollection *searchCollection = [DMItemCollection itemCollectionWithType:@"video" forParams:args];
[searchCollection itemsWithFields:@[@"id", @"title"] forPage:1 withPageSize:20 do:^(NSArray *items, BOOL more, NSInteger total, BOOL stalled, NSError *error)
{
    if (!stalled)
    {
        for (NSDictionary *data in items)
        {
            NSLog(@"title: %@", data[@"title"]);
        }
    }
}];
</code></pre>

<p>Gathering public playlist of a given user:</p>

<pre><code>DMItem *user = [DMItem itemWithType:@"user" forId:@"plidujeanzzz"];
DMItemCollection *playlistCollection = [user itemCollectionWithConnection:@"playlists" ofType:@"playlist"];
[searchCollection playlistCollection:@[@"id", @"name"] forPage:1 withPageSize:20 do:^(NSArray *items, BOOL more, NSInteger total, BOOL stalled, NSError *error)
{
    if (!stalled)
    {
        for (NSDictionary *data in items)
        {
            NSLog(@"playlit name: %@", data[@"name"]);
        }
    }
}];
</code></pre>

<h2>Raw API Access</h2>

<p>If you need to perform raw request to the API, you can use the <a href="Classes/DMAPI.html">DMAPI</a> class. The <a href="Classes/DMAPI.html">DMAPI</a> class handle asynchronous API calls using blocks. If several API calls are perform within the same run loop tic, they are automatically aggregated into a single HTTP request.</p>

<p>Here are some example of <a href="Classes/DMAPI.html">DMAPI</a> usage:</p>

<p>Gather metadata of a video:</p>

<pre><code>NSDictionary *args = @{@"fields": @[@"title", @"owner.screenname"]};
[DMAPI.sharedAPI get:@"/video/x12k3" args:args callback:^(NSDictionary *data, DMAPICacheInfo *cacheInfo, NSError *error)
{
    NSLog(@"Video %@ as title \"%@\" and is owned by \"%@\"", data[@"title"], data[@"owner.screenname"]);
}];
</code></pre>

<h2>Authentication</h2>

<p>If you need to access the Dailymotion API on behalf of a user, you&rsquo;ll need to create an API key and authenticate the user using OAuth 2.0. You can instruct the Dailymotion SDK to use OAuth 2.0 to authenticate your user by changing the OAuth grant type as follow:</p>

<pre><code>DMAPI.sharedAPI.oauth.delegate = self; // You need to implement DailymotionOAuthDelegate protocol
[DMAPI.sharedAPI.oauth setGrantType:DailymotionGrantTypeAuthorization
                         withAPIKey:@"your API key here"
                             secret:@"your API secret here"
                              scope:@"email manage_playlists"];
[DMAPI.sharedAPI get:@"/me" callback:^(NSDictionary *data, DMAPICacheInfo *cacheInfo, NSError *error)
{
    if (!error)
    {
        // Here, the user is authenticated
    }
}];
</code></pre>

<p>See the <a href="https://github.com/dailymotion/dailymotion-sdk-objc/tree/master/Examples/UploaderSample">Uploader Sample</a> app for an example implementation.</p>
						
						
					</div>
					
					
					
					<div class="index-column">
						<h2 class="index-title">Class References</h2>
						<ul>
							
							<li><a href="Classes/DMAPI.html">DMAPI</a></li>
							
							<li><a href="Classes/DMAPICacheInfo.html">DMAPICacheInfo</a></li>
							
							<li><a href="Classes/DMItem.html">DMItem</a></li>
							
							<li><a href="Classes/DMItemCollection.html">DMItemCollection</a></li>
							
							<li><a href="Classes/DMItemCollectionViewController.html">DMItemCollectionViewController</a></li>
							
							<li><a href="Classes/DMItemCollectionViewDataSource.html">DMItemCollectionViewDataSource</a></li>
							
							<li><a href="Classes/DMItemLocalCollection.html">DMItemLocalCollection</a></li>
							
							<li><a href="Classes/DMItemOperation.html">DMItemOperation</a></li>
							
							<li><a href="Classes/DMItemPageViewDataSource.html">DMItemPageViewDataSource</a></li>
							
							<li><a href="Classes/DMItemPickerLabel.html">DMItemPickerLabel</a></li>
							
							<li><a href="Classes/DMItemPickerViewComponent.html">DMItemPickerViewComponent</a></li>
							
							<li><a href="Classes/DMItemPickerViewDataSource.html">DMItemPickerViewDataSource</a></li>
							
							<li><a href="Classes/DMItemRemoteCollection.html">DMItemRemoteCollection</a></li>
							
							<li><a href="Classes/DMItemTableViewController.html">DMItemTableViewController</a></li>
							
							<li><a href="Classes/DMItemTableViewDataSource.html">DMItemTableViewDataSource</a></li>
							
							<li><a href="Classes/DMItemTableViewDefaultCell.html">DMItemTableViewDefaultCell</a></li>
							
							<li><a href="Classes/DMNetRequestOperation.html">DMNetRequestOperation</a></li>
							
							<li><a href="Classes/DMNetworking.html">DMNetworking</a></li>
							
							<li><a href="Classes/DMOAuthClient.html">DMOAuthClient</a></li>
							
							<li><a href="Classes/DMOAuthSession.html">DMOAuthSession</a></li>
							
							<li><a href="Classes/DMPlayerViewController.html">DMPlayerViewController</a></li>
							
							<li><a href="Classes/DMUDID.html">DMUDID</a></li>
							
						</ul>
					</div>
					
					
						
					<div class="index-column">
						
						<h2 class="index-title">Protocol References</h2>
						<ul>
							
							<li><a href="Protocols/DMItemCollectionViewDataSourceDelegate.html">DMItemCollectionViewDataSourceDelegate</a></li>
							
							<li><a href="Protocols/DMItemDataSourceItem.html">DMItemDataSourceItem</a></li>
							
							<li><a href="Protocols/DMItemPageViewDataSourceDelegate.html">DMItemPageViewDataSourceDelegate</a></li>
							
							<li><a href="Protocols/DMItemTableViewDataSourceDelegate.html">DMItemTableViewDataSourceDelegate</a></li>
							
							<li><a href="Protocols/DMPlayerDelegate.html">DMPlayerDelegate</a></li>
							
							<li><a href="Protocols/DailymotionOAuthDelegate.html">DailymotionOAuthDelegate</a></li>
							
						</ul>
						
						
						<h2 class="index-title">Category References</h2>
						<ul>
							
							<li><a href="Categories/NSArray(DMAdditions).html">NSArray(DMAdditions)</a></li>
							
							<li><a href="Categories/NSDictionary(DMAdditions).html">NSDictionary(DMAdditions)</a></li>
							
							<li><a href="Categories/NSDictionary(DMURLArguments).html">NSDictionary(DMURLArguments)</a></li>
							
							<li><a href="Categories/NSMutableArray(DMAdditions).html">NSMutableArray(DMAdditions)</a></li>
							
							<li><a href="Categories/NSString(DMQueryString).html">NSString(DMQueryString)</a></li>
							
						</ul>
						
					</div>
					
				</div>
				<div class="main-navigation navigation-bottom">
					<a href="hierarchy.html">Next</a>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2012 Dailymotion S.A. All rights reserved. (Last updated: 2012-10-24)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 737)</a>.</span></p>
						
	
					</div>
				</div>
			</div>
		</article>		
	</body>
</html>